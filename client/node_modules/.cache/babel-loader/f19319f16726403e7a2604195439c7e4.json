{"ast":null,"code":"var _jsxFileName = \"/data/data/com.termux/files/home/poms_projects/salty-temple-49118/client/src/components/pages/admin/users_page.js\";\nimport React, { Component } from 'react';\nimport Loading from '../components/Loading'; //import PropTypes from 'prop-types';\n\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faArrowCircleLeft, faDownload, faBriefcase, faQuestion, faDoorClosed, faSchool, faGraduationCap, faThumbsUp, faHistory, faFilter, faProjectDiagram, faTimesCircle, faUsers, faUsersSlash, faCalendarDay, faFolderOpen } from '@fortawesome/free-solid-svg-icons';\nimport { connect } from 'react-redux';\nimport userActions from \"../actions/usersActions.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UsersPage extends Component {\n  constructor(props) {\n    super(props);\n    this.setModal = this.setModal.bind(this);\n    this.state = {\n      loaded: false,\n      users: [],\n      refresh: false,\n      modal_open: false,\n      modal: \"user\"\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchUsers();\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.props.users.length != 0 && this.state.users.length == 0 && this.state.loaded == false) {\n      this.setState({\n        users: this.props.users,\n        loaded: true\n      });\n    }\n  }\n\n  closeModal() {\n    this.setState({\n      modal_open: false,\n      modal_image: \"\"\n    });\n  }\n\n  setModal(modal, image) {\n    let modal_open = this.state.modal_open;\n    const current_modal = this.state.modal;\n\n    if (modal != \"image\" && modal_open && modal === current_modal) {\n      this.closeModal();\n    } else {\n      this.setState({\n        modal_open: true,\n        modal: modal,\n        modal_image: image\n      });\n    }\n  }\n\n  displayUser(user) {\n    const user_dom = /*#__PURE__*/_jsxDEV(User, {\n      setModal: this.setModal,\n      ...user\n    }, user.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }, this);\n\n    return user_dom;\n  }\n\n  render() {\n    if (this.state.users.length == 0 && this.props.users.length == 0 || this.state.users.length == 0) {\n      return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App-page Users-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App-content\",\n        children: [this.state.users.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"users-section\",\n          children: this.state.users.map(user => {\n            const displayed_user = this.displayUser(user);\n            return displayed_user;\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 14\n        }, this), this.state.users.length == 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"warning\",\n          children: \"No results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 45\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), this.state.modal_open && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-top-bar\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            onClick: () => this.closeModal(),\n            children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              className: \"icon\",\n              icon: faTimesCircle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 82\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 14\n        }, this), this.state.modal == \"user\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-modal\",\n          children: this.displayUser(this.state.user)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 44\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 12\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default connect(state => state, { ...userActions\n})(UsersPage);","map":{"version":3,"names":["React","Component","Loading","Link","FontAwesomeIcon","faArrowCircleLeft","faDownload","faBriefcase","faQuestion","faDoorClosed","faSchool","faGraduationCap","faThumbsUp","faHistory","faFilter","faProjectDiagram","faTimesCircle","faUsers","faUsersSlash","faCalendarDay","faFolderOpen","connect","userActions","UsersPage","constructor","props","setModal","bind","state","loaded","users","refresh","modal_open","modal","componentDidMount","fetchUsers","componentDidUpdate","prevProps","prevState","snapshot","length","setState","closeModal","modal_image","image","current_modal","displayUser","user","user_dom","id","render","map","displayed_user"],"sources":["/data/data/com.termux/files/home/poms_projects/salty-temple-49118/client/src/components/pages/admin/users_page.js"],"sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport Loading from '../components/Loading';\r\n\r\n//import PropTypes from 'prop-types';\r\nimport { Link } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowCircleLeft, faDownload, faBriefcase, faQuestion, faDoorClosed, faSchool, faGraduationCap, faThumbsUp, faHistory, faFilter, faProjectDiagram, faTimesCircle, faUsers, faUsersSlash, faCalendarDay, faFolderOpen } from '@fortawesome/free-solid-svg-icons';\r\nimport { connect } from 'react-redux';\r\nimport userActions from \"../actions/usersActions.js\";\r\n\r\n\r\nclass UsersPage extends Component {\r\n   constructor(props) {\r\n      super(props);\r\n\r\n      this.setModal = this.setModal.bind(this);\r\n      this.state = {\r\n  \t    loaded: false,\r\n        users: [],\r\n        refresh: false,\r\n        modal_open: false,\r\n        modal: \"user\"\r\n      }\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.props.fetchUsers();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n      if (this.props.users.length != 0 && this.state.users.length == 0 && this.state.loaded == false) {\r\n        this.setState({users: this.props.users, loaded: true})\r\n      }\r\n    }\r\n    closeModal() {\r\n      this.setState({modal_open: false, modal_image: \"\"})\r\n    }\r\n\r\n    setModal(modal, image) {\r\n      let modal_open = this.state.modal_open;\r\n      const current_modal = this.state.modal;\r\n      if(modal != \"image\" && (modal_open && modal === current_modal)) {\r\n          this.closeModal();\r\n      } else {\r\n          this.setState({modal_open: true, modal: modal, modal_image: image})\r\n      }\r\n    }\r\n    displayUser(user) {\r\n      const user_dom = (<User setModal={this.setModal} key={user.id} {...user} />);\r\n      return user_dom;\r\n    }\r\n   \r\n    render() {\r\n      if ((this.state.users.length == 0 && this.props.users.length == 0) || this.state.users.length == 0) {\r\n        return (<Loading />);\r\n      }\r\n\r\n      return (\r\n        <div className=\"App-page Users-page\">\r\n          <div className=\"App-content\">\r\n            {\r\n\t            this.state.users.length > 0 && \r\n\t            <div className=\"users-section\">\r\n\t              {\r\n\t                this.state.users.map(user => {\r\n\t                    const displayed_user = this.displayUser(user);\r\n\t                    return displayed_user;\r\n\t                })\r\n\t              }\r\n\t            </div>\r\n            }\r\n            {\r\n            this.state.users.length == 0 && <div className=\"warning\">No results</div>\r\n            }\r\n          </div>\r\n          {\r\n\t         this.state.modal_open && \r\n\t          <div className=\"modal\">\r\n\t            <div className=\"modal-top-bar\"><a onClick={() => this.closeModal()}><FontAwesomeIcon className=\"icon\" icon={faTimesCircle}/></a></div>\r\n\t            {\r\n\t            this.state.modal == \"user\" && <div className=\"user-modal\">\r\n\t\t             {\r\n\t\t              this.displayUser(this.state.user)\r\n\t\t             }\r\n\t\t             </div>\r\n\t             }\r\n\t           </div>\r\n           }\r\n        </div>\r\n      )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n  state => state,\r\n  {...userActions}\r\n)(UsersPage);"],"mappings":"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"},"metadata":{},"sourceType":"module"}